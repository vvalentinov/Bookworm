function createToast(n){const u=document.createElement("div");u.className="toast-container position-fixed top-0 end-0 p-3 fs-5";const t=document.createElement("div");t.id="liveToast";t.className="toast";t.role="alert";t.setAttribute("aria-live","assertive");t.setAttribute("aria-atomic","true");const r=document.createElement("div");r.className="toast-header bg-info";const f=document.createElement("strong");f.className="me-auto";f.textContent="Notification";const i=document.createElement("button");i.type="button";i.className="btn-close";i.setAttribute("data-bs-dismiss","toast");i.setAttribute("aria-label","Close");r.appendChild(f);r.appendChild(i);const e=document.createElement("div");e.className="toast-body";e.textContent=`${n}`;t.appendChild(r);t.appendChild(e);u.appendChild(t);document.body.appendChild(u);const o=document.getElementById("liveToast"),s=bootstrap.Toast.getOrCreateInstance(o);s.show()}function increaseNotificationsCount(){const n=document.querySelector(".notificationBtn .badge");if(n.textContent=="")n.textContent=1;else{let t=parseInt(n.textContent);isNaN(t)==!1&&(n.textContent=++t)}}function fulfilled(){}function rejected(){}function clearBadge(n){n.currentTarget.querySelector(".badge").textContent=""}var connectionNotification=(new signalR.HubConnectionBuilder).withUrl("/hubs/notification").build();connectionNotification.on("notification",n=>{createToast(n),increaseNotificationsCount()});connectionNotification.start().then(fulfilled,rejected);fetch("/ApiNotification/GetUserNotificationsCount").then(n=>n.json()).then(n=>{n>0&&(document.querySelector(".notificationBtn .badge").textContent=n)}).catch(n=>console.log(n.message));