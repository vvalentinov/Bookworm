@model UploadBookViewModel

@{
    this.ViewData["Title"] = "Upload Book";
    this.ViewData["Icon-Class"] = "fa-book";
}

<partial name="PartialViews/_TitleCardPartial" />

<section class="uploadBookSection">
    <form asp-controller="Book"
          asp-action="Upload"
          id="uploadBookForm"
          method="post"
          enctype="multipart/form-data">
        <div asp-validation-summary="All" class="text-danger"></div>
        <div>
            <label asp-for="Title"></label>
            <input asp-for="Title" type="text" class="form-control fs-5">
            <span asp-validation-for="Title" class="small text-danger"></span>
        </div>
        <div class="selectContainer">
            <div class="mt-4">
                <label asp-for="LanguageId"></label>
                <select asp-for="LanguageId"
                        size="8"
                        aria-label="size 5 select example"
                        class="fs-5 form-select">
                    @await Component.InvokeAsync("Languages")
                </select>
                <span asp-validation-for="LanguageId" class="small text-danger"></span>
            </div>
            <div class="mt-4">
                <label asp-for="CategoryId"></label>
                <select asp-for="CategoryId"
                        size="8"
                        aria-label="size 5 select example"
                        class="fs-5 form-select">
                    @await Component.InvokeAsync("Categories")
                </select>
                <span asp-validation-for="CategoryId" class="small text-danger"></span>
            </div>
        </div>
        <div class="mt-4">
            <label asp-for="PagesCount"></label>
            <input asp-for="PagesCount" type="number" class="form-control fs-5">
            <span asp-validation-for="PagesCount" class="small text-danger"></span>
        </div>
        <div class="mt-4">
            <label asp-for="PublishedYear"></label>
            <input asp-for="PublishedYear" type="number" class="form-control fs-5">
            <span asp-validation-for="PublishedYear" class="small text-danger"></span>
        </div>
        <div class="mt-4">
            <label asp-for="Publisher"></label>
            <input asp-for="Publisher" type="text" class="form-control fs-5">
            <span asp-validation-for="Publisher" class="small text-danger"></span>
        </div>
        <div class="mt-4">
            <label asp-for="BookFile" class="form-label"></label>
            <input asp-for="BookFile" type="file" class="form-control fs-5">
            <span asp-validation-for="BookFile" class="small text-danger"></span>
        </div>
        <div class="mt-4">
            <label asp-for="ImageFile" class="form-label"></label>
            <input asp-for="ImageFile" type="file" class="form-control fs-5">
            <span asp-validation-for="ImageFile" class="small text-danger"></span>
        </div>
        <div class="mt-4" id="authorsContainer" data-index="0">
            <button type="button"
                    id="addAuthorBtn"
                    class="btn button fs-5 w-100">
                Add Author<i class="fa-solid fa-square-plus ms-2 fa-xl"></i>
            </button>
        </div>
        <div class="mt-4">
            <label asp-for="Description"></label>
            <textarea asp-for="Description"></textarea>
            <span asp-validation-for="Description" class="small text-danger"></span>
        </div>
        <div class="text-center my-4">
            <button type="submit" class="btn fs-5">
                <strong>Upload Book<i class="fas fa-upload icon ms-2"></i></strong>
            </button>
        </div>
    </form>
</section>


@section Scripts {
    <script src="~/js/authors.js"></script>
    <script src="~/lib/tinymce/tinymce.min.js"></script>
    <script>
        tinymce.init({
            selector: "textarea",
            placeholder: 'Type book description here...',
            plugins: "code wordcount lists preview searchreplace",
            content_style: 'body { font-size: 14pt;}',
        });
    </script>
}